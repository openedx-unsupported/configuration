<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>
    Creates and configures the analytics task jobs.
  </description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <jenkins.advancedqueue.AdvancedQueueSorterJobProperty plugin="PrioritySorter@2.9">
      <useJobPriority>false</useJobPriority>
      <priority>-1</priority>
    </jenkins.advancedqueue.AdvancedQueueSorterJobProperty>
    <hudson.model.ParametersDefinitionProperty>
        <parameterDefinitions>
            <com.cloudbees.plugins.credentials.CredentialsParameterDefinition plugin="credentials@1.24">
                <name>MASTER_SSH_CREDENTIAL_ID</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_MASTER_SSH_CREDENTIAL_ID }}</defaultValue>
                <credentialType>com.cloudbees.plugins.credentials.common.StandardCredentials</credentialType>
                <required>true</required>
                <description>Jenkins Credential ID used for ssh access to EMR resources.</description>
            </com.cloudbees.plugins.credentials.CredentialsParameterDefinition>
            <com.cloudbees.plugins.credentials.CredentialsParameterDefinition plugin="credentials@1.24">
                <name>GIT_CREDENTIAL_ID</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_SECURE_REPO_CREDENTIAL_ID | default('') }}</defaultValue>
                <credentialType>com.cloudbees.plugins.credentials.common.StandardCredentials</credentialType>
                <required>false</required>
                <description>Jenkins Credential ID used for cloning secure git repos.</description>
            </com.cloudbees.plugins.credentials.CredentialsParameterDefinition>

            <hudson.model.StringParameterDefinition>
                <name>SECURE_BRANCH</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_SECURE_REPO_VERSION | default('master') }}</defaultValue>
                <description>Branch or version of the secure repo to checkout and use to generate the jobs.</description>
            </hudson.model.StringParameterDefinition>

            <hudson.model.TextParameterDefinition>
                <name>COMMON_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_COMMON_VARS | default('') }}</defaultValue>
                <description>Set default values for the common job parameters.  Format as YAML or provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.TextParameterDefinition>

            <hudson.model.BooleanParameterDefinition>
                <name>ANSWER_DISTRIBUTION</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_ANSWER_DISTRIBUTION | default(true) }}</defaultValue>
                <description>Create or update the AnswerDistributionWorkflow analytics task.</description>
            </hudson.model.BooleanParameterDefinition>
            <hudson.model.StringParameterDefinition>
                <name>ANSWER_DISTRIBUTION_EXTRA_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_ANSWER_DISTRIBUTION_EXTRA_VARS | default('') }}</defaultValue>
                <description>Default values for the AnswerDistributionWorkflow job parameters.  Provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.StringParameterDefinition>

            <hudson.model.BooleanParameterDefinition>
                <name>COURSE_ACTIVITY_WEEKLY</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_COURSE_ACTIVITY_WEEKLY | default(true) }}</defaultValue>
                <description>Create or update the CourseActivityWeeklyTask analytics task.</description>
            </hudson.model.BooleanParameterDefinition>
            <hudson.model.StringParameterDefinition>
                <name>COURSE_ACTIVITY_WEEKLY_EXTRA_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_COURSE_ACTIVITY_WEEKLY_EXTRA_VARS | default('') }}</defaultValue>
                <description>Default values for the CourseActivityWeeklyTask job parameters.  Provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.StringParameterDefinition>

            <hudson.model.BooleanParameterDefinition>
                <name>IMPORT_ENROLLMENTS_INTO_MYSQL</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_IMPORT_ENROLLMENTS_INTO_MYSQL | default(true) }}</defaultValue>
                <description>Create or update the ImportEnrollmentsIntoMysql analytics task.</description>
            </hudson.model.BooleanParameterDefinition>
            <hudson.model.StringParameterDefinition>
                <name>IMPORT_ENROLLMENTS_INTO_MYSQL_EXTRA_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_IMPORT_ENROLLMENTS_INTO_MYSQL_EXTRA_VARS | default('') }}</defaultValue>
                <description>Default values for the ImportEnrollmentsIntoMysql job parameters.  Provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.StringParameterDefinition>

            <hudson.model.BooleanParameterDefinition>
                <name>INSERT_TO_MYSQL_ALL_VIDEO</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_INSERT_TO_MYSQL_ALL_VIDEO | default(true) }}</defaultValue>
                <description>Create or update the InsertToMysqlAllVideoTask analytics task.</description>
            </hudson.model.BooleanParameterDefinition>
            <hudson.model.StringParameterDefinition>
                <name>INSERT_TO_MYSQL_ALL_VIDEO_EXTRA_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_INSERT_TO_MYSQL_ALL_VIDEO_EXTRA_VARS | default('') }}</defaultValue>
                <description>Default values for the InsertToMysqlAllVideoTask job parameters.  Provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.StringParameterDefinition>

            <hudson.model.BooleanParameterDefinition>
                <name>INSERT_TO_MYSQL_COURSE_ENROLL_BY_COUNTRY</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_INSERT_TO_MYSQL_COURSE_ENROLL_BY_COUNTRY | default(true) }}</defaultValue>
                <description>Create or update the InsertToMysqlCourseEnrollByCountryWorkflow analytics task.</description>
            </hudson.model.BooleanParameterDefinition>
            <hudson.model.StringParameterDefinition>
                <name>INSERT_TO_MYSQL_COURSE_ENROLL_BY_COUNTRY_EXTRA_VARS</name>
                <defaultValue>{{ ANALYTICS_SCHEDULE_INSERT_TO_MYSQL_COURSE_ENROLL_BY_COUNTRY_EXTRA_VARS | default('') }}</defaultValue>
                <description>Default values for the InsertToMysqlCourseEnrollByCountryWorkflowJob job parameters.  Provide YAML file as @path/to/file.yml, absolute or relative to seed job workpace.</description>
            </hudson.model.StringParameterDefinition>
        </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
  </properties>
  <scm class='org.jenkinsci.plugins.multiplescms.MultiSCM'>
    <scms>
    {% for scm in jenkins_seed_job.multiscm %}
      {% if scm.url %}
      <scm class="hudson.plugins.git.GitSCM" plugin="git@2.4.0">
        <configVersion>2</configVersion>
        <userRemoteConfigs>
          <hudson.plugins.git.UserRemoteConfig>
            <url>{{ scm.url }}</url>
            {% if scm.credential_id %}
            <credentialsId>{{ scm.credential_id }}</credentialsId>
            {% endif %}
          </hudson.plugins.git.UserRemoteConfig>
        </userRemoteConfigs>
        <branches>
          <hudson.plugins.git.BranchSpec>
            <name>{{ scm.branch }}</name>
          </hudson.plugins.git.BranchSpec>
        </branches>
        {% if scm.dest %}
        <relativeTargetDir>{{ scm.dest }}</relativeTargetDir>
        {% endif %}
        <doGenerateSubmoduleConfigurations>false</doGenerateSubmoduleConfigurations>
        <browser class="hudson.plugins.git.browser.AssemblaWeb">
          <url></url>
        </browser>
        <submoduleCfg class="list"/>
        <extensions/>
      </scm>
      {% endif %}
    {% endfor %}
    </scms>
  </scm>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.plugins.gradle.Gradle plugin="gradle@1.24">
      <description></description>
      <switches></switches>
      <tasks>{{ jenkins_seed_job.dsl.gradle_tasks }}</tasks>
      <rootBuildScriptDir></rootBuildScriptDir>
      <buildFile></buildFile>
      <gradleName>(x)</gradleName>
      <useWrapper>true</useWrapper>
      <makeExecutable>false</makeExecutable>
      <fromRootBuildScriptDir>true</fromRootBuildScriptDir>
      <useWorkspaceAsHome>false</useWorkspaceAsHome>
    </hudson.plugins.gradle.Gradle>
    <javaposse.jobdsl.plugin.ExecuteDslScripts plugin="job-dsl@1.43">
      <targets>{{ jenkins_seed_job.dsl.target_jobs }}</targets>
      <usingScriptText>false</usingScriptText>
      <ignoreExisting>false</ignoreExisting>
      <removedJobAction>{{ jenkins_seed_job.dsl.removed_job_action }}</removedJobAction>
      <removedViewAction>{{ jenkins_seed_job.dsl.removed_view_action }}</removedViewAction>
      <lookupStrategy>SEED_JOB</lookupStrategy>
      <additionalClasspath>{{ jenkins_seed_job.dsl.additional_classpath }}</additionalClasspath>
    </javaposse.jobdsl.plugin.ExecuteDslScripts>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>
