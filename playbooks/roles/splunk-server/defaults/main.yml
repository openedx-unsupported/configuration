---
#
# edX Configuration
#
# github:     https://github.com/edx/configuration
# wiki:       https://openedx.atlassian.net/wiki/display/OpenOPS
# code style: https://openedx.atlassian.net/wiki/display/OpenOPS/Ansible+Code+Conventions
# license:    https://github.com/edx/configuration/blob/master/LICENSE.TXT
#
##
# Defaults for role splunk-server
# 

#
# vars are namespaced with the module name.
#
splunk-server_role_name: splunk-server

splunk_user: "splunk"
splunk_root: "/vol/splunk/storage"

splunk_hot_dir: "{{ splunk_root }}/hot"
splunk_thawed_dir: "{{ splunk_root }}/thawed"
splunk_cold_dir: "{{ splunk_root }}/cold"
splunk_frozen_dir: "{{ splunk_root }}/frozen" 

SPLUNK_INDEXES: 
  - "default"

SPLUNK_ALERTS:
  # A list of dicts with the following keys:
  #   name: (string, required)
  #     The name of the alert
  #   description: (string, optional)
  #     A description of the alert. Appears in the Splunk UI.
  #   email: (list[string], optional)
  #     List of email addresses to send to when alert is triggered
  #   message: (string, optional)
  #     Body of the alert email.
  #   search: (string, required)
  #     Splunk query to use
  #   schedule: (string, default: "*/15 * * * *")
  #     The cron-style schedule on which to run the alert
  #   counttype: ("number of events" | "number of hosts" | "number of sources" | "always", default: "number of events")
  #   comparison: ("greater than" | "less than" | "equal to" | "not equal to" | "drops by" | "rises by", default: "greater than")
  #   quantity: (number, default: 0)
  #     Alert will trigger when "counttype comparison quantity" is true, e.g. "number of events > 10"
  #   time: (string, default: "-15m")
  #     Events will be searched from this value until now. "rt" indicates "realtime".
  #   severity: ([1-6], {{splunk_alert_default_severity}})
  #     The severity of the alert. 1-debug, 2-info, 3-warn, 4-error, 5-severe, 6-fatal
  #   digest_delay: (string, optional)
  #     Whether to send email digests at most every "digest_delay" rather than for every alert. e.g. 15m
  #
  # NB: None of the string values can contain newlines except "message"

SPLUNK_FIELD_EXTRACTIONS:
  # A list of dicts of the following form.
  # source and sourcetype are mutually exclusive
  # - sourcetype | source:
  #   name:
  #   regex:

splunk_alert_default_severity: "3"


SPLUNK_VOLUMES: []

#
# OS packages
#

splunk-server_debian_pkgs: []

splunk-server_redhat_pkgs: []
