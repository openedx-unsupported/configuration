---
#
# edX Configuration
#
# github:     https://github.com/edx/configuration
# wiki:       https://github.com/edx/configuration/wiki
# code style: https://github.com/edx/configuration/wiki/Ansible-Coding-Conventions
# license:    https://github.com/edx/configuration/blob/master/LICENSE.TXT
#
##
# Defaults for role analytics_api
#

#
# vars are namespace with the module name.
#
ANALYTICS_API_GIT_IDENTITY: |
  -----BEGIN RSA PRIVATE KEY-----
  Your key if you need to access any private repositories
  -----END RSA PRIVATE KEY-----

# depends upon Newrelic being enabled via COMMON_ENABLE_NEWRELIC
# and a key being provided via NEWRELIC_LICENSE_KEY
ANALYTICS_API_NEWRELIC_APPNAME: "your Newrelic appname"
ANALYTICS_API_PIP_EXTRA_ARGS: "-i {{ COMMON_PYPI_MIRROR_URL }}"

#
# vars are namespace with the module name.
#
analytics_api_role_name: "analytics_api"
analytics_api_service_name: "analytics_api"
analytics_api_user: "analytics_api"
analytics_api_module: "xqueue_watcher"

analytics_api_app_dir: "{{ COMMON_APP_DIR }}/{{ analytics_api_service_name }}"
analytics_api_home: "{{ COMMON_APP_DIR }}/{{ analytics_api_service_name }}"
analytics_api_venv_base: "{{ analytics_api_home }}/venvs"
analytics_api_venv_dir: "{{ analytics_api_venv_base }}/{{ analytics_api_service_name }}"
analytics_api_venv_bin: "{{ analytics_api_venv_dir }}/bin"
analytics_api_code_dir: "{{ analytics_api_app_dir }}/src/edx-analytics-data-api"
analytics_api_conf_dir: "{{ analytics_api_home }}"
analytics_api_data_dir: "{{ analytics_api_home }}/data"
analytics_api_gunicorn_host: "0.0.0.0"
analytics_api_gunicorn_port: "8080"
analytics_api_gunicorn_workers: "8"
analytics_api_gunicorn_timeout: "300"

analytics_api_django_settings: "production"
analytics_api_source_repo: "git@{{ COMMON_GIT_MIRROR }}:edx/edx-analytics-data-api"
analytics_api_git_ssh_opts: "-o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i {{ analytics_api_git_identity_file }}"
ANALYTICS_API_VERSION: "master"
analytics_api_git_identity_file: "{{ analytics_api_app_dir }}/git-identity"

analytics_api_log_dir: "{{ COMMON_LOG_DIR }}/{{ analytics_api_service_name }}"

analytics_api_requirements_base: "{{ analytics_api_code_dir }}/requirements"
analytics_api_requirements:
  - base.txt
  - production.txt
  - optional.txt

ANALYTICS_API_CONFIG:
  SECRET_KEY: 'Your secret key here'
  TIME_ZONE: 'America/New_York'
  LANGUAGE_CODE: 'en-us'
  # email config
  EMAIL_HOST: 'smtp.example.com'
  EMAIL_HOST_PASSWORD: ''
  EMAIL_HOST_USER: ''
  EMAIL_PORT: 587
  API_AUTH_TOKEN: 'put-your-api-token-here'
  # db config
  DATABASES:
    default:
      ENGINE: 'django.db.backends.mysql'
      NAME: 'name'
      USER: 'user'
      PASSWORD: 'password'
      HOST: 'localhost'
      PORT: '3306'

#
# OS packages
#

analytics_api_debian_pkgs:
  - 'libmysqlclient-dev'

analytics_api_redhat_pkgs: []
