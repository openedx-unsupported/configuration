### Required arguments ###
# Should match the calling role's service_name var
nginx_config_app_service_name: !!null

nginx_config_gunicorn_hosts: !!null
nginx_config_gunicorn_port: !!null

#List of hostnames used to access this site
nginx_config_allowed_hosts: !!null


### Optional arguments that can be overridden by calling role ###
nginx_config_port: 80
nginx_config_enable_ssl: false
nginx_config_ssl_port: 443

#Paths to key/certificate files
nginx_config_ssl_certificate: !!null
nginx_config_ssl_key: !!null

nginx_config_p3p_message: CP="Open edX does not have a P3P policy."
nginx_config_redirect_to_https: false

# Which nginx variable to use for checking the source protocol
# for redirecting http to https.
# If you're running nginx behind an ELB, use http_x_forwarded_proto
nginx_config_https_redirect_protocol_var: scheme

nginx_config_enable_basic_auth: false

# A list of dicts of the following format:
# { agent: "user-agent string", disallow: "path" }
# These get rendered into robots.txt in the following format:
# User-agent: <agent>
# Disallow: <path>
nginx_config_robot_rules: []


### Internal vars ###
nginx_config_sites_available_dir: "{{ COMMON_CFG_DIR }}/nginx/sites-available"
nginx_config_sites_enabled_dir: "/etc/nginx/sites-enabled"