---

NOTIFIER_USER: "notifier"
NOTIFIER_WEB_USER: "www-user"
NOTIFIER_HOME: "/opt/wwc/notifier"
NOTIFIER_VENV_DIR: "{{ NOTIFIER_HOME }}/virtualenvs/notifier"
NOTIFIER_DB_DIR: "{{ NOTIFIER_HOME }}/db"
NOTIFIER_SOURCE_REPO: "https://github.com/edx/notifier.git"
NOTIFIER_CODE_DIR: "{{ NOTIFIER_HOME }}/src"
NOTIFIER_VERSION: "master"
NOTIFIER_GIT_IDENTITY_PATH: "{{ secure_dir }}/files/git-identity"
NOTIFIER_REQUIREMENTS_FILE: "{{ NOTIFIER_CODE_DIR }}/requirements.txt"
NOTIFIER_LOG_LEVEL: "INFO"
NOTIFIER_RSYSLOG_ENABLED: "yes"
NOTIFIER_DIGEST_TASK_INTERVAL: "1440"

NOTIFIER_ENV: "Development"

NOTIFIER_EMAIL_BACKEND: "console"
NOTIFIER_EMAIL_HOST: "localhost"
NOTIFIER_EMAIL_PORT: 25
NOTIFIER_EMAIL_USER: ""
NOTIFIER_EMAIL_PASS: ""
NOTIFIER_EMAIL_USE_TLS: "False"

NOTIFIER_EMAIL_DOMAIN: "notifications.edx.org"
NOTIFIER_EMAIL_REWRITE_RECIPIENT: ""

NOTIFIER_LMS_URL_BASE: "http://localhost:8000"
NOTIFIER_LMS_SECRET_KEY: "PUT_YOUR_SECRET_KEY_HERE"

NOTIFIER_COMMENT_SERVICE_BASE: "http://localhost:4567"
NOTIFIER_COMMENT_SERVICE_API_KEY: "PUT_YOUR_API_KEY_HERE"

NOTIFIER_USER_SERVICE_BASE: "http://localhost:8000"
NOTIFIER_USER_SERVICE_API_KEY: "PUT_YOUR_API_KEY_HERE"
NOTIFIER_USER_SERVICE_HTTP_AUTH_USER: "guido"
NOTIFIER_USER_SERVICE_HTTP_AUTH_PASS: "vanrossum"
NOTIFIER_CELERY_BROKER_URL: "django://"

NOTIFIER_SUPERVISOR_LOG_DEST: "{{ storage_base_dir }}/logs/supervisor"

NOTIFER_REQUESTS_CA_BUNDLE: "/etc/ssl/certs/ca-certificates.crt"

NOTIFIER_DD_API_KEY: "NOT_USED"    # data dog

notifier_debian_pkgs:
  - apparmor-utils
  - build-essential
  - curl
  - g++
  - gcc
  - ipython
  - pkg-config
  - rsyslog
  - supervisor

#
# This structure is iterated over in order to build both
# the environment file for the notifier which is sourced
# into the applications's environment and for building
# the env variable for the supervisor job definition.
#
notifier_env_vars:
  NOTIFIER_ENV: $NOTIFIER_ENV
  NOTIFIER_DB_DIR: $NOTIFIER_DB_DIR
  EMAIL_BACKEND: $NOTIFIER_EMAIL_BACKEND
  EMAIL_HOST: $NOTIFIER_EMAIL_HOST
  EMAIL_PORT: $NOTIFIER_EMAIL_PORT
  EMAIL_HOST_USER: $NOTIFIER_EMAIL_USER
  EMAIL_HOST_PASSWORD: $NOTIFIER_EMAIL_PASS
  EMAIL_USE_TLS: $NOTIFIER_EMAIL_USE_TLS
  EMAIL_DOMAIN: $NOTIFIER_EMAIL_DOMAIN
  EMAIL_REWRITE_RECIPIENT: $NOTIFIER_EMAIL_REWRITE_RECIPIENT
  LMS_URL_BASE: $NOTIFIER_LMS_URL_BASE
  SECRET_KEY: $NOTIFIER_LMS_SECRET_KEY
  CS_URL_BASE: $NOTIFIER_COMMENT_SERVICE_BASE
  CS_API_KEY: $NOTIFIER_COMMENT_SERVICE_API_KEY
  US_URL_BASE: $NOTIFIER_USER_SERVICE_BASE
  US_API_KEY: $NOTIFIER_USER_SERVICE_API_KEY
  DATADOG_API_KEY: $NOTIFIER_DD_API_KEY
  LOG_LEVEL: $NOTIFIER_LOG_LEVEL
  RSYSLOG_ENABLED: $NOTIFIER_RSYSLOG_ENABLED
  BROKER_URL: $NOTIFIER_CELERY_BROKER_URL
  REQUESTS_CA_BUNDLE: $NOTIFER_REQUESTS_CA_BUNDLE
  US_HTTP_AUTH_USER: $NOTIFIER_USER_SERVICE_HTTP_AUTH_USER
  US_HTTP_AUTH_PASS: $NOTIFIER_USER_SERVICE_HTTP_AUTH_PASS
  FORUM_DIGEST_TASK_INTERVAL: $NOTIFIER_DIGEST_TASK_INTERVAL
